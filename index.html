
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title>Automatyczne testy funkcjonalne na sterydach</title>
  <script src="../../bower_components/webcomponentsjs/webcomponents-lite.js"></script>
  <link rel="import" href="elements/codelab.html">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <style is="custom-style">
    body {
      font-family: "Roboto",sans-serif;
      background: var(--google-codelab-background, --paper-grey-300);
    }
  </style>
  
</head>
<body unresolved class="fullbleed">

  <google-codelab title="Automatyczne testy funkcjonalne na sterydach"
                  environment="web"
                  feedback-link="https://github.com/jaworj/steroids_workshops">
    
      <google-codelab-step label="Wstęp" duration="0">
        <p>Ludziska słuchajta! Tu jest zarąbisty wstęp do warsztatów. Piękna proza o tym czego się nauczycie. I coś o nas. Strzeliliśmy też fancy foty i krótkie info skąd i dokąd zmierzamy.</p>
<table>
<tr><td colspan="1" rowspan="1"><p><img style="max-width: 142.50px" src="img/39359abe46717313.png"></p>
</td><td colspan="1" rowspan="1"><p><img style="max-width: 142.50px" src="img/2f7f80f2dd70179.png"></p>
</td><td colspan="1" rowspan="1"><p><img style="max-width: 142.50px" src="img/5520e02be2f8c52d.png"></p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>Michalina Ożibko</p>
</td><td colspan="1" rowspan="1"><p>Tomasz Wojciechowski</p>
</td><td colspan="1" rowspan="1"><p>Jacek Jaworski</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>Sukienki i pączki</p>
</td><td colspan="1" rowspan="1"><p>Ruda broda i wyjątkowo </p>
<p>czuły bullshitometr</p>
</td><td colspan="1" rowspan="1"><p>Jakość i League of Legends</p>
</td></tr>
</table>
<h2><strong>Co to za ludzie?</strong></h2>
<p>Jesteśmy trójką zapaleńców, pracujących w firmie, która rozwiązaniami jakościowymi ściga takich gigantów jak Google czy Facebook. Nie akceptujemy statusu quo.</p>
<h2><strong>Co zrobisz</strong></h2>
<table>
<tr><td colspan="1" rowspan="1"><p>W trakcie warsztatów wzbogacisz wcześniej przygotowany projekt oparty o Selenium o :</p>
<ul>
<li>Walidację maili</li>
<li>Walidację layoutów</li>
<li>Walidację wydajności</li>
</ul>
</td></tr>
</table>
<h2><strong>Czego się nauczysz</strong></h2>
<ul>
<li>Jak rozbudować framework testowy o automatyczne checki maili, layoutów i wydajności</li>
<li>Poznasz więcej możliwości testów E2E</li>
</ul>


      </google-codelab-step>
    
      <google-codelab-step label="Setup" duration="0">
        <h2><strong>Czego potrzebujesz:</strong></h2>
<table>
<tr></tr>
</table>
<h3><strong>Java 8</strong></h3>
<p><a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" target="_blank"><paper-button class="colored" raised>Pobierz Java 8</paper-button></a> </p>
<p>Po zainstalowaniu upewnij się że setup jest poprawny wpisując w konsoli:</p>
<pre>java -version</pre>
<p>Jeżeli wszystko jest ok, powinieneś zobaczyć mniej więcej coś takiego:</p>
<pre>java version &#34;1.8.0_144&#34;
Java(TM) SE Runtime Environment (build 1.8.0_144-b01)
Java HotSpot(TM) 64-Bit Server VM (build 25.144-b01, mixed mode)</pre>
<h3><strong>Chrome</strong></h3>
<p><a href="https://www.google.com/chrome/" target="_blank"><paper-button class="colored" raised>Pobierz najnowszą wersję Chrome</paper-button></a> </p>
<h3><strong>IntelliJ IDEA</strong></h3>
<aside class="special"><p>To pracy przy projektach związanych z automatyzacją testów, w zupełności wystarczy Community Edition.</p>
</aside>
<p><a href="https://www.jetbrains.com/idea/download/download-thanks.html?platform=mac&code=IIC" target="_blank"><paper-button class="colored" raised>Pobierz Intelij IDEA Community Edition</paper-button></a></p>
<ul>
<li>Do tego potrzebujemy plugin do IDE odpowiedzialny za ogarnięcie BDD i Cucumbera </li>
<li>Po uruchomieniu IDE użyj skrótu klawiszowego ⇧⌘A (⇧+Ctrl+A dla Windowsa) i wyszukaj menu ‘Plugins&#39;. </li>
<li>W wyszukiwarce pluginów wpisz ‘Cucumber&#39;, następnie kliknij ‘Search in repositories&#39;. Zainstaluj ‘Cucumber for Java&#39;<img style="max-width: 1005.67px" src="img/7b4e70e1dafe2328.png"></li>
</ul>
<h2><strong>Repo:</strong></h2>
<p>Projekt, na którym będziemy pracować znajduje się tu:</p>
<p><a href="https://github.com/jaworj/steroids_workshops/tree/start" target="_blank"><paper-button class="colored" raised>Selenium On Steroids Github Repo</paper-button></a></p>
<p>Zostawiamy Tobie jak go sobie wciągniesz do IDE. Po zasetupowaniu projektu (rozwiązywanie dependencji może chwilę potrwać) znajdź w projekcie plik JobAgentConfirmation.feature i spróbuj go uruchomić <img style="max-width: 20.00px" src="img/4cf44a8214394872.png"></p>
<p>Po chwili powinieneś zobaczyć okno Chrome&#39;a wyskakujące znienacka i wbijające na jakąś stronę z dopiskiem &#34;chrome is being controlled by automated test software&#34;. Now we&#39;re talkin!</p>


      </google-codelab-step>
    
      <google-codelab-step label="Walidacja emaili" duration="0">
        <!-- <h2><strong>Inbucket</strong></h2>
<p><a href="https://www.inbucket.org/about/" target="_blank"><paper-button class="colored" raised>Inbucket - about</paper-button></a></p>
<p>W dużym skrócie - aplikacja do odbierania i wyświetlania maili. </p>
<ul>
<li>Dostęp z sieci lokalnej lub Twojego komputera</li>
<li>Żadnych haseł</li>
<li>Żadnego tworzenia skrzynek do testów</li>
<li>Żadnego zewnętrznego serwera POP3/SMTP</li>
<li>Automatyczne czyszczenie skrzynek</li>
</ul>
<h2><strong>Okej... I jak to działa?</strong></h2>
<p>Bez wchodzenia w techniczne szczegóły, możesz wysłać maila i odebrać maila używając <strong>dowolnej</strong> skrzynki i domeny, pod którą jest postawiony Inbucket. Na tych warsztatach, użyjemy instancji utworzonej w AWS i domyślnej domeny.</p>
<p><strong>Przykład:</strong></p>
<table>
<tr><td colspan="1" rowspan="1"><p><em>Adres mailowy:</em></p>
<p><a href="mailto:welcome@ec2-34-244-6-12.eu-west-1.compute.amazonaws.com" target="_blank"><em>welcome@ec2-34-244-6-12.eu-west-1.compute.amazonaws.com</em></a></p>
</td></tr>
</table>
<table>
<tr><td colspan="1" rowspan="1"><p><em>Link do skrzynki:</em></p>
<p><em>http://ec2-34-244-6-12.eu-west-1.compute.amazonaws.com/mailbox?name=welcome</em></p>
</td></tr>
</table>
<h2><strong>I mam to wszystko sprawdzać manualnie...? </strong></h2>
<p>Oczywiście, że nie! Inbucket Java Client, który napisaliśmy, umożliwia Ci komunikację z serwerem Inbucketa i... używanie go w testach. <a href="https://github.com/stepstone-tech/inbucket-java-client" target="_blank"><paper-button class="colored" raised>Inbucket Java Client</paper-button></a></p>
<h2><strong>Email as page</strong></h2>
<p>Pisanie testów Selenium dla statycznej strony jest bardzo proste, prawda? Czy w przypadku emaila wygląda to inaczej? Nie, jeśli używasz Inbucketa. </p>
<p>Widok HTML w Inbuckecie pozwala na wyświetlenie emaila dokładnie tak samo, jak każdej innej statycznej strony. To znaczy, że jeśli używasz <a href="https://www.pluralsight.com/guides/software-engineering-best-practices/getting-started-with-page-object-pattern-for-your-selenium-tests" target="_blank">PageObjectPattern</a>, musisz utworzyć PageObject dla emaila, którego chcesz sprawdzić. Przykład? Plik JobAgentConfirmationEmailPage w warsztatowym repo. </p>
<h2><strong>PARTY TIME!</strong></h2>
<ol type="1" start="1">
<li>W klasie <em>JobAgentConfirmationEmailPage.java </em>znajdziesz metodę <em>confirmEmailMessageFistep</em>, w której brakuje części odpowiedzialnej za kliknięcie w przycisk potwierdzający założenie konta/subskrypcję. Nie wiem co za leń nie dopisał tej jednej linijki, ale wszyscy poszli na kebsa i jesteś jedyną osobą, która może to naprawić. </li>
<li>Stażysta piszący metodę <em>getMessageUrl </em>w klasie <em>EmailChecker.java</em> nie wiedział jak wygląda url do HTML&#39;owej wersji, pomożesz mu? Firma <em>JanuszPolExDevelopment &amp; Studenci</em> zawsze daje możliwość wyboru, więc jeśli odpowiesz &#34;nie&#34;, pan Zbysiu odprowadzi Cię do wyjścia. </li>
</ol> -->


      </google-codelab-step>
    
      <google-codelab-step label="Walidacja layoutu" duration="0">
        <!-- <h2><strong>Czym jest Galen ?</strong></h2>
<p><a href="http://galenframework.com/" target="_blank"><paper-button class="colored" raised>Galen framework</paper-button></a></p>
<p>Galen jest bardzo prostym frameworkiem służącym do testowania wyglądu strony. Jego prostota polega na tym, że większość pracy niezbędna do uruchomienia testu sprowadza się do napisania pliku spec, który jest swoistą &#34;mapą strony&#34;. W pliku tym deklarujemy obiekty i relacje między nimi. </p>
<h2><strong>Przygotujmy plik spec dla naszego projektu..</strong></h2>
<p><a href="http://galenframework.com/docs/reference-galen-spec-language-guide/" target="_blank"><paper-button class="colored" raised>Galen Specs Language Guide</paper-button></a></p>
<p>W tym kroku zbudujemy plik spec dla otrzymanego w poprzednim kroku maila i umieścimy go w naszym projekcie. </p>
<p>Podstawowe elementy pliku spec:</p>
<p>Definicje obiektów</p>
<ul>
<li>id </li>
<li>css </li>
<li>Xpath</li>
</ul>
<pre><code>  @objects
   menu css ul.menu</code></pre>
<p>Sekcje i tagi</p>
<pre><code>  = Menu =
    @on mobile
        menu:
            height 300 px 

    @on desktop
        menu:
            height 40 px </code></pre>
<h2>Test passed ... i co dalej ?</h2>
<p>Sama informacja, że testy przeszły często nie wystarczy. </p>
<p>Rzućmy okiem na :</p>
<ul>
<li>Raport z testów</li>
<li>Heat mapę</li>
</ul> -->


      </google-codelab-step>
    
      <google-codelab-step label="Walidacja wydajności" duration="0">
        <!-- <p><strong>Wydajność ma znaczenie.</strong></p>
<p><img style="max-width: 722.71px" src="img/946b5559ca555fdf.png"></p>
<p>Do zmierzenie wydajności naszej strony wykorzystamy <a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigation_timing_API" target="_blank">Navigation Timing API</a>.</p>
<p>Owe API dostępne jest we wszystkich współczesnych przeglądarkach, choć nadal zaskakująco dużo osób o nim nie słyszało. </p>
<p><strong>Rozgrzewka:</strong></p>
<p>Wejdź na dowolną stronę, otwórz narzędzia deweloperskie i w zakładce konsola wpisz:</p>
<pre><code>window.performance.timing</code></pre>
<p>Konsola powinna wypluć coś takiego:</p>
<pre><code>PerformanceTiming {navigationStart: 1524081709253, unloadEventStart: 0, unloadEventEnd: 0, redirectStart: 0, redirectEnd: 0, ...}</code></pre>
<p>Ta zwrotka to punkty w czasie w których wystąpiły dane atrybuty requestu, wyrażone w czasie uniksowym. </p>
<aside class="special"><p><strong>Czas uniksowy</strong> - system reprezentacji czasu mierzący liczbę sekund od początku <a href="https://pl.wikipedia.org/wiki/1970" target="_blank">1970</a> roku <a href="https://pl.wikipedia.org/wiki/Uniwersalny_czas_koordynowany" target="_blank">UTC</a>, czyli od chwili zwanej początkiem epoki Uniksa (ang. <em>Unix Epoch</em>).</p>
</aside>
<p>Atrybuty zdefiniowane w API:</p>
<p><img style="max-width: 624.00px" src="img/85d75077954c6d1b.png"></p> -->


      </google-codelab-step>
    
      <!-- <google-codelab-step label="Piękna proza na zakończenie" duration="0">
        <p>Mało? Głodny wiedzy, a może masz z czymś problem? Tutaj możesz znaleźć kontakt do nas. </p>
 -->

      </google-codelab-step>
    
  </google-codelab>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49880327-14', 'auto');

    (function() {
      var gaCodelab = '';
      if (gaCodelab) {
        ga('create', gaCodelab, 'auto', {name: 'codelab'});
      }

      var gaView;
      var parts = location.search.substring(1).split('&');
      for (var i = 0; i < parts.length; i++) {
        var param = parts[i].split('=');
        if (param[0] === 'viewga') {
          gaView = param[1];
          break;
        }
      }
      if (gaView && gaView !== gaCodelab) {
        ga('create', gaView, 'auto', {name: 'view'});
      }
    })();
  </script>

</body>
</html>
